========================================
 BMAIL - USER API TESTS
========================================

Author: [Your Name]
Purpose: Manual testing for user registration, login, and retrieval
Date: [2025-MM-DD]

----------------------------------------
 1. USER REGISTRATION
----------------------------------------

❌ 1.1 Missing required fields

curl -i -X POST http://localhost:8080/api/users \
-H "Content-Type: application/json" \
-d '{
  "firstName": "Alice"
}'

Expected:
HTTP/1.1 400 Bad Request
{"error":"Missing fields: lastName, username, password"}


✅ 1.2 Successful registration

curl -i -X POST http://localhost:8080/api/users \
-H "Content-Type: application/json" \
-d '{
  "firstName": "Alice",
  "lastName": "Test",
  "username": "alice123",
  "password": "securepass"
}'

Expected:
HTTP/1.1 201 Created
Location: /api/users/1


❌ 1.3 Duplicate username

curl -i -X POST http://localhost:8080/api/users \
-H "Content-Type: application/json" \
-d '{
  "firstName": "Alice",
  "lastName": "Test2",
  "username": "alice123",
  "password": "newpass"
}'

Expected:
HTTP/1.1 400 Bad Request
{"error":"Username already taken"}


----------------------------------------
 2. USER LOGIN (TOKEN GENERATION)
----------------------------------------

❌ 2.1 Invalid username

curl -i -X POST http://localhost:8080/api/tokens \
-H "Content-Type: application/json" \
-d '{
  "username": "notexists",
  "password": "securepass"
}'

Expected:
HTTP/1.1 400 Bad Request
{"error":"Invalid username or password"}


❌ 2.2 Invalid password

curl -i -X POST http://localhost:8080/api/tokens \
-H "Content-Type: application/json" \
-d '{
  "username": "alice123",
  "password": "wrongpass"
}'

Expected:
HTTP/1.1 400 Bad Request
{"error":"Invalid username or password"}


✅ 2.3 Valid login

curl -i -X POST http://localhost:8080/api/tokens \
-H "Content-Type: application/json" \
-d '{
  "username": "alice123",
  "password": "securepass"
}'

Expected:
HTTP/1.1 201 Created
{"token":"1"}


----------------------------------------
 3. GET USER INFO
----------------------------------------

✅ 3.1 Valid user ID

curl -i http://localhost:8080/api/users/1

Expected:
HTTP/1.1 200 OK
{
  "id": 1,
  "username": "alice123",
  "firstName": "Alice",
  "lastName": "Test"
}


❌ 3.2 Invalid user ID

curl -i http://localhost:8080/api/users/999

Expected:
HTTP/1.1 404 Not Found
{"error":"User not found"}

----------------------------------------

